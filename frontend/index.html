<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dados Socioecon√¥micos - Superendividamento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: url('SuperEndBackgroundTransparente.png') no-repeat center center fixed;
            background-size: cover;
        }
        .container { max-width: 1200px; margin: 30px auto; background: #ffffff00; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0, 248, 74, 0.263); }        h1 { color: #2d5c2f; margin-bottom: 20px; }
        table { font-size: 0.88rem; }
        th, td { padding: 0.3em 0.5em !important; }
        .table-bordered th, .table-bordered td { border: 1px solid #333 !important; }
        .total-row { font-weight: bold; background: #f0f0f0; }
        .total-row.dark-theme { background: #23272b !important; color: #fff !important; }
        .existencial { color: #d00; font-weight: bold; }
        .valor-final { color: #007a00; font-weight: bold; font-size: 1.2em; border: 2px solid #007a00; padding: 4px 12px; border-radius: 6px; background: #eaffea; }
        .obs { font-size: 0.95em; color: #444; margin-top: 10px; }
        @media (max-width: 900px) {
            .row { flex-direction: column; }
        }
        #custom-navbar {
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            background: linear-gradient(90deg, #e0ffe0 0%, #baffba 100%);
            box-shadow: 0 2px 8px #0002;
            border-radius: 0 0 16px 16px;
            padding: 6px 8px;
            margin-bottom: 18px;
            border: none;
        }
        .nav-btn {
            flex: 1;
            background: transparent;
            border: none;
            font-size: 1em;
            padding: 10px 0;
            cursor: pointer;
            transition: background 0.2s, color 0.2s, font-weight 0.2s;
            color: #2d5c2f;
            border-bottom: 3px solid transparent;
            border-radius: 0 0 12px 12px;
            margin: 0 4px;
        }
        .nav-btn:focus,
        .nav-btn:active,
        .nav-btn:hover,
        .nav-btn.active {
            background: #baffba;
            color: #007a00;
            font-weight: bold;
            border-bottom: 3px solid #007a00;
            outline: none;
        }
        .form-control.input-sm, .form-control.input-md, .form-control.input-lg, .form-control.input-xs {
            min-height: 28px;
            font-size: 0.92em;
            padding: 2px 6px;
        }
        #dark-theme-style {
            display: none;
        }
        body.dark-theme {
            background: url('SuperEndBackgroundTransparente-Dark.png') no-repeat center center fixed !important;
            background-size: cover !important;
            color: #fff !important;
        }
        html.dark-theme { background: #181a1b !important; }
        .container.dark-theme, .row.dark-theme, [class^="col-"] .dark-theme, h1.dark-theme, h2.dark-theme, h3.dark-theme, h4.dark-theme, h5.dark-theme, h6.dark-theme {
            background: transparent !important;
        }
        h1.dark-theme, h2.dark-theme, h3.dark-theme, h4.dark-theme, h5.dark-theme, h6.dark-theme {
            color: #fff !important;
            background: transparent !important;
        }
        #custom-navbar.dark-theme {
            background: rgba(35,39,43,0.95) !important;
            box-shadow: 0 2px 8px #0008;
        }
        .nav-btn.dark-theme { color: #baffba !important; background: transparent !important; }
        .nav-btn.dark-theme.active, .nav-btn.dark-theme:focus, .nav-btn.dark-theme:active, .nav-btn.dark-theme:hover { background: #2e3b2e !important; color: #baffba !important; border-bottom: 3px solid #baffba !important; }
        table.dark-theme {
            background: rgba(35,39,43,0.65) !important;
        }
        th.dark-theme, td.dark-theme {
            background: rgba(35,39,43,0.15) !important;
            color: #fff !important;
        }
        thead.dark-theme, .table-light.dark-theme, .table-title.dark-theme { background: #23272b !important; color: #fff !important; }
        input.dark-theme, select.dark-theme, textarea.dark-theme {
            background: #23272b !important;
            color: #fff !important;
            border: 1px solid #444 !important;
        }
        input.dark-theme::placeholder, select.dark-theme::placeholder, textarea.dark-theme::placeholder {
            color: #bbb !important;
        }
        .btn, .btn-success, .btn-warning, .btn-primary, .btn-danger, .btn-info {
            transition: background 0.2s, color 0.2s;
        }
        .btn.dark-theme, .btn-success.dark-theme, .btn-warning.dark-theme, .btn-primary.dark-theme, .btn-danger.dark-theme, .btn-info.dark-theme {
            background: #333 !important;
            color: #fff !important;
            border: 1px solid #555 !important;
        }
        .btn.dark-theme:hover, .btn-success.dark-theme:hover, .btn-warning.dark-theme:hover, .btn-primary.dark-theme:hover, .btn-danger.dark-theme:hover, .btn-info.dark-theme:hover {
            background: #444 !important;
            color: #baffba !important;
        }
        .form-switch .form-check-input.dark-theme {
            background-color: #23272b !important;
            border-color: #baffba !important;
        }
        .form-switch .form-check-input.dark-theme:checked {
            background-color: #baffba !important;
            border-color: #baffba !important;
        }
        .valor-final.dark-theme { color: #baffba !important; border-color: #baffba !important; background: #23272b !important; }
        .obs.dark-theme { color: #bbb !important; }
        .limpar-btn, .imprimir-btn {
            border: 1.5px solid #baffba !important;
            color: #2d5c2f !important;
            background: #baffba !important;
            font-weight: bold;
            transition: border 0.2s;
        }
        .dark-theme .limpar-btn, .dark-theme .imprimir-btn {
            border: 1.5px solid #baffba !important;
            color: #baffba !important;
            background: transparent !important;
        }
        body.dark-theme #btn-theme-toggle { background: rgba(35,39,43,0.32) !important; color: #fff !important; }
        html.dark-theme .container, body.dark-theme .container { background: rgba(35,39,43,0.32) !important; color: #fff !important; box-shadow: 0 2px 8px #0008; }
        html.dark-theme #btn-theme-toggle, body.dark-theme #btn-theme-toggle { background: rgba(35,39,43,0.32) !important; color: #fff !important; }
        html.dark-theme table, body.dark-theme table { background: rgba(35,39,43,0.32) !important; }
        html.dark-theme th, body.dark-theme th, html.dark-theme td, body.dark-theme td { background: rgba(35,39,43,0.12) !important; color: #fff !important; }
        @media print {
            #custom-navbar,
            .navbar,
            #theme-toggle,
            #btn-theme-toggle,
            #btn-imprimir,
            #limpar-btn,
            .limpar-btn,
            #logo-superend,
            body > div[style*="position:sticky"],
            #btn-theme-toggle {
                display: none !important;
            }
            .container {
                background: none !important;
                box-shadow: none !important;
                border-radius: 0 !important;
                padding: 0 !important;
            }
        }
        .conteudo-escondido { visibility: hidden; }
        #page-load-overlay {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background: #fff;
            z-index: 99999;
            transition: opacity 0.07s;
        }
        html.dark-theme #page-load-overlay, body.dark-theme #page-load-overlay {
            background: #181a1b;
        }
        #page-load-overlay.hide {
            opacity: 0;
            pointer-events: none;
        }
    </style>
    <style>
        table.dark-theme tr {
            background: transparent !important;
        }
        table.dark-theme th, table.dark-theme td {
            background: rgba(35,39,43,0.15) !important;
            color: #fff !important;
        }
        table.dark-theme {
            background: rgba(35,39,43,0.65) !important;
        }
        table.dark-theme thead, table.dark-theme tfoot {
            background: transparent !important;
            color: #fff !important;
        }
        table.dark-theme .total-row.dark-theme td,
        table.dark-theme .total-row.dark-theme {
            background: #23272b !important;
            color: #fff !important;
        }
    </style>
    <style>
        table.table.table-bordered.dark-theme,
        table.table.dark-theme,
        table.dark-theme {
            background: rgba(35,39,43,0.65) !important;
        }
        table.table.table-bordered.dark-theme th,
        table.table.table-bordered.dark-theme td,
        table.table.dark-theme th,
        table.table.dark-theme td,
        table.dark-theme th,
        table.dark-theme td {
            background: rgba(35,39,43,0.15) !important;
            color: #fff !important;
        }
        table.table.table-bordered.dark-theme tr,
        table.table.dark-theme tr,
        table.dark-theme tr {
            background: transparent !important;
        }
        table.table.table-bordered.dark-theme thead,
        table.table.table-bordered.dark-theme tfoot,
        table.table.dark-theme thead,
        table.table.dark-theme tfoot,
        table.dark-theme thead,
        table.dark-theme tfoot {
            background: #23272b !important;
            color: #fff !important;
        }
        table.table.table-bordered.dark-theme .total-row,
        table.table.table-bordered.dark-theme .total-row td,
        table.table.dark-theme .total-row,
        table.table.dark-theme .total-row td,
        table.dark-theme .total-row,
        table.dark-theme .total-row td {
            background: #23272b !important;
            color: #fff !important;
        }
    </style>
    <script>
        try {
            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark-theme');
                document.body.classList.add('dark-theme');
            }
        } catch(e){}
    </script>
    <script>
        // Garante que, se n√£o houver tema salvo, o padr√£o ser√° claro
        if (!localStorage.getItem('theme')) {
            localStorage.setItem('theme', 'light');
        }
    </script>
</head>
<body>
    <!--Barra de navega√ß√£o superior-->
    <div style="width:100%;display:flex;justify-content:flex-start;margin-top:4px;margin-bottom:10px;gap:0;flex-wrap:wrap;position:sticky;top:0;z-index:1001;box-shadow:0 2px 8px #0002;">
        <img id="logo-superend" src="logo-superendividamento.png" alt="SUPERENDIVIDAMENTO" style="max-width:20%; min-width:5%; height:60px; display:block; box-shadow: 0 2px 8px #0001; border-radius: 12px; margin-left:4px; margin-right:0;" />
        <div style="flex:1;justify-content:flex-start; width: 80%; padding-top: 1px; padding-bottom: 1px; margin-left:4px; margin-right:50px;">
            <div id="custom-navbar" style="height: 55px; position:static;box-shadow:none;margin-bottom:2px;border-radius:16px;padding:6px 8px; margin-left:2;">
                <button onclick="navegarComTema('index.html')" class="nav-btn" id="btn-dados">Dados Socioecon√¥micos</button>
                <button onclick="navegarComTema('geral.html')" class="nav-btn" id="btn-geral">Geral</button>
                <button onclick="navegarComTema('plano-de-pagamento.html')" class="nav-btn" id="btn-plano">Plano de Pagamento</button>
                <button onclick="navegarComTema('panorama.html')" class="nav-btn" id="btn-panorama">Panorama</button>
            </div>
        </div>
    </div>
    <div class="container conteudo-escondido">
        <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:30px; gap:16px;">
            <h1 style="margin:0;">Dados Socioecon√¥micos do Consumidor</h1>
            <div style="display:flex; gap:10px; align-items:center;">
                <button type="button" class="imprimir-btn btn btn-success mb-3" id="btn-imprimir" onclick="window.print()">Imprimir</button>
                <button type="button" class="limpar-btn btn btn-warning mb-3" id="limpar-btn" onclick="limparCampos()">Limpar</button>
            </div>
        </div>
        <form id="socForm">
            <div class="row g-4">
                <div class="col-md-6">
                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr><th colspan="3" class="text-center">Receitas (individual ou total familiar)</th></tr>
                            <tr><th>TIPO</th><th>Evento</th><th>Valor</th></tr>
                        </thead>
                        <tbody id="receitas-body">
                            <tr><td>Sal√°rios ganhos/l√≠quidos</td><td><input type="text" class="form-control evento" id="receita-salarios-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-salarios"></td></tr>
                            <tr><td>Ganho m√≠nimo como aut√¥nomo</td><td><input type="text" class="form-control evento" id="receita-ganho-minimo-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-ganho-minimo"></td></tr>
                            <tr><td>Aposentadoria</td><td><input type="text" class="form-control evento" id="receita-aposentadoria-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-aposentadoria"></td></tr>
                            <tr><td>Pens√£o Previdenci√°ria (pens√£o por morte)</td><td><input type="text" class="form-control evento" id="receita-pensao-previdenciaria-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-pensao-previdenciaria"></td></tr>
                            <tr><td>Aluguel</td><td><input type="text" class="form-control evento" id="receita-aluguel-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-aluguel"></td></tr>
                            <tr><td>Pens√£o Aliment√≠cia (se descontada em folha de pagamento)</td><td><input type="text" class="form-control evento" id="receita-pensao-alimenticia-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-pensao-alimenticia"></td></tr>
                            <tr><td>Renda tempor√°ria</td><td><input type="text" class="form-control evento" id="receita-renda-temporaria-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-renda-temporaria"></td></tr>
                            <tr><td>Aux√≠lio por incapacidade</td><td><input type="text" class="form-control evento" id="receita-auxilio-por-incapacidade-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-auxilio-por-incapacidade"></td></tr>
                            <tr><td>Auxilio acidente</td><td><input type="text" class="form-control evento" id="receita-auxilio-acidente-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-auxilio-acidente"></td></tr>
                            <tr><td>Aux√≠lio reclus√£o</td><td><input type="text" class="form-control evento" id="receita-auxilio-reclusao-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-auxilio-reclusao"></td></tr>
                            <tr><td>Sal√°rio Maternidade</td><td><input type="text" class="form-control evento" id="receita-salario-maternidade-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-salario-maternidade"></td></tr>
                            <tr><td>Participa√ß√µes nos lucros ou comiss√µes</td><td><input type="text" class="form-control evento" id="receita-participacoes-nos-lucros-ou-comissoes-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-participacoes-nos-lucros-ou-comissoes"></td></tr>
                            <tr><td>13¬∫ sal√°rio</td><td><input type="text" class="form-control evento" id="receita-13-salario-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-13-salario"></td></tr>
                            <tr><td>Outros</td><td><input type="text" class="form-control evento" id="receita-outros-evento"></td><td><input type="number" step="0.01" min="0" class="form-control receita" id="receita-outros"></td></tr>
                        </tbody>
                        <tfoot>
                            <tr class="total-row"><td colspan="2">TOTAL M√äS:</td><td id="total-receitas" class="text-primary">R$ 0,00</td></tr>
                        </tfoot>
                    </table>
                    <div class="obs">*Itens do m√≠nimo existencial</div>
                </div>
                <div class="col-md-6">
                    <table class="table table-bordered">
                        <thead class="table-light">
                            <tr><th colspan="3" class="text-center">Despesas (individual ou total familiar)</th></tr>
                            <tr><th>TIPO</th><th>Evento</th><th>Valor</th></tr>
                        </thead>
                        <tbody id="despesas-body">
                            <tr><td>Energia el√©trica + G√°s*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-energia-eletrica-gas"></td></tr>
                            <tr><td>√Ågua*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-agua"></td></tr>
                            <tr><td>Aluguel*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-aluguel"></td></tr>
                            <tr><td>Condom√≠nio*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-condominio"></td></tr>
                            <tr><td>Plano de internet + Telefone*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-plano-internet-telefone"></td></tr>
                            <tr><td>Previd√™ncia Social*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-previdencia-social"></td></tr>
                            <tr><td>Alimenta√ß√£o*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-alimentacao"></td></tr>
                            <tr><td>Pens√£o Aliment√≠cia</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-pensao-alimenticia"></td></tr>
                            <tr><td>Educa√ß√£o*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-educacao"></td></tr>
                            <tr><td>Plano de sa√∫de*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-plano-saude"></td></tr>
                            <tr><td>Medicamentos</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-medicamentos"></td></tr>
                            <tr><td>Tributos (IPTU, IPVA) *</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-tributos-iptu-ipva"></td></tr>
                            <tr><td>INSS*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-inss"></td></tr>
                            <tr><td>Transporte (combust√≠vel, √¥nibus, aplicativos, t√°xi) *</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-transporte"></td></tr>
                            <tr><td>IRRF*</td><td></td><td><input type="number" step="0.01" min="0" class="form-control despesa" id="despesa-irrf"></td></tr>
                        </tbody>
                        <tfoot>
                            <tr class="total-row"><td colspan="2">TOTAL M√äS:</td><td id="total-despesas" class="existencial">R$ 0,00</td></tr>
                        </tfoot>
                    </table>
                    <div class="obs">Obs.: os valores das Receitas e Despesas devem estar comprovados documentalmente no processo.</div>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col-12 text-center">
                    <span class="me-2">Valor mensal ap√≥s despesas existenciais</span>
                    <span id="valor-final" class="valor-final">R$ 0,00</span>
                </div>
            </div>
        </form>
    </div>
    <!-- Bot√£o de tema pequeno e redondo -->
    <button id="btn-theme-toggle" type="button" title="Alternar tema" style="position:fixed;top:13px;right:8px;width:36px;height:36px;border-radius:50%;background:#e0ffe0;border:none;box-shadow:0 2px 8px #0002;display:flex;align-items:center;justify-content:center;font-size:1.2em;z-index:2000;cursor:pointer;transition:background 0.2s;">
      üåô
    </button>
    <div id="page-load-overlay"></div>
    <div id="page-transition-overlay" style="display:block;"></div>
    <script>
        function formatBRL(value) {
            return value.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        }
        function somaInputs(selector) {
            let soma = 0;
            document.querySelectorAll(selector).forEach(input => {
                const val = parseFloat(input.value.replace(',', '.'));
                if (!isNaN(val)) soma += val;
            });
            return soma;
        }
        function atualizarTotais() {
            const totalReceitas = somaInputs('.receita');
            const totalDespesas = somaInputs('.despesa');
            document.getElementById('total-receitas').textContent = formatBRL(totalReceitas);
            document.getElementById('total-despesas').textContent = formatBRL(totalDespesas);
            const valorFinal = totalReceitas - totalDespesas;
            document.getElementById('valor-final').textContent = formatBRL(valorFinal);
            // Salvar no localStorage tanto o valor formatado quanto o valor num√©rico
            localStorage.setItem('valor-final-formatado', formatBRL(valorFinal));
            localStorage.setItem('valor-final', valorFinal.toString());
        }
        document.querySelectorAll('.receita, .despesa').forEach(input => {
            input.addEventListener('input', atualizarTotais);
        });
        // Inicializa totais ao carregar
        window.onload = function() {
            document.querySelectorAll('input').forEach(function(input) {
                if (input.id && localStorage.getItem(input.id)) {
                    input.value = localStorage.getItem(input.id);
                }
                input.oninput = function() {
                    if (input.id) localStorage.setItem(input.id, this.value);
                };
            });
            
            // Calculate initial totals
            atualizarTotais();
            
            // Ativa o bot√£o da p√°gina atual
            const page = window.location.pathname.split('/').pop();
            document.getElementById('btn-dados').classList.remove('active');
            document.getElementById('btn-geral').classList.remove('active');
            document.getElementById('btn-plano').classList.remove('active');
            document.getElementById('btn-panorama').classList.remove('active');
            if(page.includes('index')) document.getElementById('btn-dados').classList.add('active');
            if(page.includes('geral')) document.getElementById('btn-geral').classList.add('active');
            if(page.includes('plano-de-pagamento')) document.getElementById('btn-plano').classList.add('active');
            if(page.includes('panorama')) document.getElementById('btn-panorama').classList.add('active');
        };
        function limparCampos() {
            document.querySelectorAll('input[type="text"], input[type="number"]').forEach(function(input) {
                input.value = '';
                if (input.id) localStorage.removeItem(input.id);
            });
            localStorage.removeItem('valor-final');
            atualizarTotais();
        }
        document.querySelectorAll('.evento').forEach(input => {
            input.addEventListener('input', function() {
                if (this.id) {
                    localStorage.setItem(this.id, this.value);
                    if (this.value && this.value.trim() !== '') {
                        const now = new Date();
                        const dia = String(now.getDate()).padStart(2, '0');
                        const mes = String(now.getMonth()+1).padStart(2, '0');
                        const ano = now.getFullYear();
                        const hora = String(now.getHours()).padStart(2, '0');
                        const min = String(now.getMinutes()).padStart(2, '0');
                        const dataHora = `${dia}/${mes}/${ano} ${hora}:${min}`;
                        localStorage.setItem(this.id + '-data', dataHora);
                    }
                }
            });
            // Preencher ao carregar
            if (input.id && localStorage.getItem(input.id)) {
                input.value = localStorage.getItem(input.id);
            }
        });
        // Altern√¢ncia de tema claro/escuro
        const themeToggleBtn = document.getElementById('btn-theme-toggle');
        function setTheme(dark) {
            if (dark) {
                document.body.classList.add('dark-theme');
                document.querySelectorAll('.container').forEach(el => el.classList.add('dark-theme'));
                document.querySelectorAll('.container, #custom-navbar, .nav-btn, table, th, td, thead, .table-light, .table-title, input, select, textarea, .btn, .btn-success, .btn-warning, .btn-primary, .btn-danger, .btn-info, .form-check-input, .valor-final, .obs, h1, h2, h3, h4, h5, h6').forEach(el => el.classList.add('dark-theme'));
                document.querySelectorAll('tfoot, tfoot tr, tfoot .total-row').forEach(el => el.classList.add('dark-theme'));
                themeToggleBtn.textContent = '‚òÄÔ∏è';
                localStorage.setItem('theme', 'dark');
                // For√ßa dark-theme em todos os th e td das tabelas
                document.querySelectorAll('table').forEach(table => {
                    table.querySelectorAll('th, td').forEach(cell => cell.classList.add('dark-theme'));
                });
            } else {
                document.body.classList.remove('dark-theme');
                document.querySelectorAll('.container').forEach(el => el.classList.remove('dark-theme'));
                document.querySelectorAll('.container, #custom-navbar, .nav-btn, table, th, td, thead, .table-light, .table-title, input, select, textarea, .btn, .btn-success, .btn-warning, .btn-primary, .btn-danger, .btn-info, .form-check-input, .valor-final, .obs, h1, h2, h3, h4, h5, h6').forEach(el => el.classList.remove('dark-theme'));
                document.querySelectorAll('tfoot, tfoot tr, tfoot .total-row').forEach(el => el.classList.remove('dark-theme'));
                themeToggleBtn.textContent = 'üåô';
                localStorage.setItem('theme', 'light');
                // Remove dark-theme de todos os th e td das tabelas
                document.querySelectorAll('table').forEach(table => {
                    table.querySelectorAll('th, td').forEach(cell => cell.classList.remove('dark-theme'));
                });
            }
        }
        themeToggleBtn.addEventListener('click', function() {
            const dark = !document.documentElement.classList.contains('dark-theme');
            localStorage.setItem('theme', dark ? 'dark' : 'light');
            location.reload();
        });
        window.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const saved = localStorage.getItem('theme');
                setTheme(saved === 'dark');
            }, 0);
        });
        function trocarLogoPorTema(dark) {
            var logo = document.getElementById('logo-superend');
            if (!logo) return;
            logo.src = dark ? 'logo-superendividamento-Dark.png' : 'logo-superendividamento.png';
        }
        function trocarBgPorTema(dark) {
            document.body.style.backgroundImage = dark ? "url('SuperEndBackgroundTransparente-Dark.png')" : "url('SuperEndBackgroundTransparente.png')";
        }
        // Adapte a fun√ß√£o setTheme existente:
        const oldSetTheme = setTheme;
        setTheme = function(dark) {
            oldSetTheme(dark);
            trocarLogoPorTema(dark);
            trocarBgPorTema(dark);
        }
        // Troca a logo e o fundo ao carregar a p√°gina
        window.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const saved = localStorage.getItem('theme');
                trocarLogoPorTema(saved === 'dark');
                trocarBgPorTema(saved === 'dark');
            }, 0);
        });
        // Adicionar fun√ß√£o global:
        function navegarComTema(destino) {
            var overlay = document.getElementById('page-transition-overlay');
            if (overlay) {
                overlay.style.display = 'block';
                overlay.classList.add('active');
                setTimeout(function() {
                    window.location.href = destino;
                }, 350);
            } else {
                window.location.href = destino;
            }
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Ap√≥s atualizar os valores do localStorage (exemplo: no final da fun√ß√£o que preenche os campos principais)
        document.querySelectorAll('.conteudo-escondido').forEach(function(el) {
            el.classList.remove('conteudo-escondido');
        });
        // Esconde o overlay de carregamento
        var overlay = document.getElementById('page-load-overlay');
        if (overlay) {
            overlay.classList.add('hide');
            setTimeout(function() { overlay.style.display = 'none'; }, 400);
        }
        // Ap√≥s atualizar os valores e remover .conteudo-escondido
        var overlay = document.getElementById('page-transition-overlay');
        if (overlay) {
            overlay.classList.remove('active');
            setTimeout(function() { overlay.style.display = 'none'; }, 400);
        }
    </script>
</body>
</html> 